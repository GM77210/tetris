<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>ÊéíË°åÊ¶ú - Ë¶ñË¶∫ÁæéÂåñÁâà</title>
    <style>
        body { 
            background: #0b0f14; color: #fff; text-align: center; 
            font-family: 'Segoe UI', sans-serif; padding: 40px;
        }
        .board { 
            max-width: 600px; margin: 0 auto; background: rgba(255,255,255,0.05); 
            padding: 20px; border-radius: 15px; border: 1px solid #333;
            box-shadow: 0 0 40px rgba(0,0,0,0.5);
        }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th { background: rgba(0,212,255,0.2); color: #00d4ff; padding: 15px; border-bottom: 2px solid #444; }
        td { padding: 12px; border-bottom: 1px solid #222; }
        tr:hover { background: rgba(255,255,255,0.02); }
        button { 
            cursor: pointer; border: none; border-radius: 5px; 
            padding: 8px 15px; margin: 0 5px; transition: 0.2s;
        }
        .btn-edit { background: #007bff; color: white; }
        .btn-del { background: #dc3545; color: white; }
        .btn-back { background: #6c757d; color: white; margin-top: 20px; padding: 12px 30px; }
        button:hover { opacity: 0.8; transform: translateY(-2px); }
    </style>
</head>
<body>
    <div class="board">
        <h1>üèÜ HALL OF FAME</h1>
        <table>
            <thead><tr><th>#</th><th>PLAYER</th><th>SCORE</th><th>ACTION</th></tr></thead>
            <tbody id="list"></tbody>
        </table>
        <button class="btn-back" onclick="location.href='index.html'">BACK TO GAME</button>
    </div>

    <script>
        const scriptURL = "https://script.google.com/macros/s/AKfycbzXuesAAOHEpUcXocw5YByLNggG6Oyjc7NxkqdnAL_DNrg0S5OLlqLGRsfU1a5WujpZ/exec";
        function load() {
            fetch(`${scriptURL}?action=getLeaderboard`)
                .then(r => r.json())
                .then(data => {
                    const b = document.getElementById('list');
                    b.innerHTML = data.length ? "" : "<tr><td colspan='4'>No Data Found</td></tr>";
                    data.forEach((r, i) => {
                        const tr = document.createElement('tr');
                        tr.innerHTML = `<td>${i+1}</td><td>${r[1]}</td><td style="color:#00d4ff; font-weight:bold;">${r[2]}</td>
                        <td><button class="btn-edit" onclick="edit('${r[0]}')">‚úé</button> 
                        <button class="btn-del" onclick="del('${r[0]}')">üóë</button></td>`;
                        b.appendChild(tr);
                    });
                }).catch(() => document.getElementById('list').innerHTML = "Connection Error");
        }
        function edit(id) {
            const n = prompt("New Name:");
            if(n) fetch(`${scriptURL}?action=update&id=${id}&newName=${encodeURIComponent(n)}`).then(() => load());
        }
        function del(id) {
            if(confirm("Delete this record?")) fetch(`${scriptURL}?action=delete&id=${id}`).then(() => load());
        }
        window.onload = load;
    </script>
</body>
</html>
